<div nz-row style="height: 100%;flex-wrap: nowrap;">
    <div nz-col [nzFlex]="'auto'" id="preview">
        <div class="toolbar" [formGroup]="adjustments" nz-row nzJustify="center">
            <label nz-col nzSpan=1>尺寸</label>
            <div nz-col nzSpan=8>
                <nz-input-number nzSize="small" formControlName="width"></nz-input-number><i nz-icon nzType="close" style="margin:0 4px;"></i>
                <nz-input-number nzSize="small" formControlName="height"></nz-input-number>
            </div>
            <label nz-col nzSpan=1>背景</label>

            <div nz-col nzSpan=4>
                <comen-color-control style="margin-top:2px;margin-right: 8px;" formControlName="background"></comen-color-control>
                <nz-switch nzSize="small" nzCheckedChildren="纯色" nzUnCheckedChildren="网格" style="vertical-align: top;" formControlName="grid"></nz-switch>
            </div>
        </div>
        <div class="background" [ngStyle]="{'background-color':adjustments.value.background}" [ngClass]="{'transparent':!adjustments.value.grid}">
            <comen-shadow-host
                [ngStyle]="{'width':adjustments.value.width+'px','height':adjustments.value.height+'px'}">
                <ng-content></ng-content>
            </comen-shadow-host>
        </div>
    </div>
    <comen-element-tree nz-col nzFlex='240px' [config]="configuration" (sectionHover)="onTreeHover($event)"
        (sectionClick)="onSectionClick($event)" (leave)="onTreeLeave()" [selected]="currentConfigSection">
    </comen-element-tree>
    <div style="position: relative;width: 100%;height: 100%;overflow-x:unset;" nz-col nzFlex='300px'
        [formGroup]="formGroup">

        <comen-config-plane *ngFor="let s of [currentConfigSectionIn];" [sectionSetting]="s"
            [formControlName]="currentConfigSection">
        </comen-config-plane>
    </div>
</div>

<ng-template #dialogTpl let-css="css" let-url="url" let-size="size">
    <div id="dialog" [@zoomBigMotion]="'active'">
        <div id="mock">
            <comen-mock-obs-dialog [cssInfo]="css" [url]="url" [size]="size">
                <comen-shadow-host>
                    <ng-container #mark></ng-container>
                </comen-shadow-host>
            </comen-mock-obs-dialog>
        </div>
        <div id="info">
            <h1>一切已就绪！</h1>
        </div>
    </div>
</ng-template>